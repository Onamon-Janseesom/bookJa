{"remainingRequest":"/Users/kookkik/Desktop/bookJa/node_modules/thread-loader/dist/cjs.js!/Users/kookkik/Desktop/bookJa/node_modules/babel-loader/lib/index.js!/Users/kookkik/Desktop/bookJa/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Users/kookkik/Desktop/bookJa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kookkik/Desktop/bookJa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kookkik/Desktop/bookJa/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kookkik/Desktop/bookJa/src/views/Home.vue","mtime":1586471942868},{"path":"/Users/kookkik/Desktop/bookJa/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kookkik/Desktop/bookJa/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kookkik/Desktop/bookJa/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kookkik/Desktop/bookJa/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/kookkik/Desktop/bookJa/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kookkik/Desktop/bookJa/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogIkJvb2tpbmciLAogICAgICBmb3JtZGF0YToge30sCiAgICAgIGZvcm1ib29rOiB7fSwKICAgICAgbWVzc2FnZTogIiIsCiAgICAgIHN1Y2Nlc3M6IDAsCiAgICAgIGZsaWdodHM6IFtdLAogICAgICBob3RlbHM6IFtdLAogICAgICByZXM6IFtdLAogICAgICBkZWw6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hGbGlnaHRzKCk7CiAgICB0aGlzLmZldGNoSG90ZWxzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmZvcm1ib29rLnVzZXJOYW1lID0gdGhpcy5mb3JtZGF0YS51c2VyTmFtZTsKICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtYm9vayk7CiAgICAgIHRoaXMuYXhpb3MucG9zdCgnaHR0cDovL2VjMi0xOC0yMTktNjUtMjQyLnVzLWVhc3QtMi5jb21wdXRlLmFtYXpvbmF3cy5jb206NTAwMC9jcmVhdGUnLCB0aGlzLmZvcm1kYXRhKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhLmNvbnRlbnQpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgICB0aGlzLmF4aW9zLnBvc3QoJ2h0dHA6Ly9lYzItMTgtMjE5LTY1LTI0Mi51cy1lYXN0LTIuY29tcHV0ZS5hbWF6b25hd3MuY29tOjUwMDAvYm9va2luZycsIHRoaXMuZm9ybWJvb2spLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBfdGhpcy5yZXMgPSBkYXRhLmRhdGEuY29udGVudDsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5yZXMpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGZldGNoRmxpZ2h0czogZnVuY3Rpb24gZmV0Y2hGbGlnaHRzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2VjMi0xOC0yMTktMjA1LTIzNC51cy1lYXN0LTIuY29tcHV0ZS5hbWF6b25hd3MuY29tOjMwMDAvYXZhaWxhYmxlLWZsaWdodCIpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLmZsaWdodHMgPSBkYXRhLmRhdGEuY29udGVudDsKICAgICAgfSk7CiAgICB9LAogICAgZmV0Y2hIb3RlbHM6IGZ1bmN0aW9uIGZldGNoSG90ZWxzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2VjMi0xMy01OC0xMTktMzMudXMtZWFzdC0yLmNvbXB1dGUuYW1hem9uYXdzLmNvbTo0MDAwL2F2YWlsYWJsZS1ob3RlbCIpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLmhvdGVscyA9IGRhdGEuZGF0YS5jb250ZW50OwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVCb29rOiBmdW5jdGlvbiBkZWxldGVCb29rKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybWJvb2spOwogICAgICB0aGlzLmF4aW9zLnBvc3QoJ2h0dHA6Ly9lYzItMTgtMjE5LTY1LTI0Mi51cy1lYXN0LTIuY29tcHV0ZS5hbWF6b25hd3MuY29tOjUwMDAvY2FuY2VsJywgdGhpcy5mb3JtYm9vaykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzNC5kZWwgPSBkYXRhLmRhdGEuY29udGVudDsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpczQuZGVsKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgICAgdGhpcy5kZWwuc3RhdHVzID0gJ2NhbmNlbCBzdWNjZXNzJzsKICAgIH0sCiAgICBCb29rOiBmdW5jdGlvbiBCb29rKGZsaWdodE5vLCBzKSB7CiAgICAgIGNvbnNvbGUubG9nKGZsaWdodE5vLCBzKTsKICAgICAgdGhpcy5mb3JtYm9vay5mbGlnaHROdW1iZXIgPSBmbGlnaHRObzsKICAgICAgdGhpcy5mb3JtYm9vay5zZWF0ID0gczsKICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtYm9vayk7CiAgICB9LAogICAgQm9va2g6IGZ1bmN0aW9uIEJvb2toKGhvdGVsTiwgcikgewogICAgICBjb25zb2xlLmxvZyhob3RlbE4sIHIpOwogICAgICB0aGlzLmZvcm1ib29rLmhvdGVsTmFtZSA9IGhvdGVsTjsKICAgICAgdGhpcy5mb3JtYm9vay5yb29tTnVtYmVyID0gcjsKICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtYm9vayk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"row\" id=\"form-register\">\n        <div class=\"col-md-2\"></div>\n        <div class=\"col-md-8\">\n         <h3 class=\"panel-heading\">{{title}}</h3>\n          <div v-if=\"del.status !== 'cancel success'\">\n          <div v-if=\"res.status === 'booking success'\">\n            <table class=\"table table-bordered\">\n              <thead class=\"thead-dark\">\n                <tr>\n                  <th scope=\"col\">Flight Number</th>\n                  <th scope=\"col\">Seat</th>\n                  <th scope=\"col\">Hotel Name</th>\n                  <th scope=\"col\">Room Number</th>\n                  <th scope=\"col\">Select</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-if=\"res.status !== 'failed'\">\n                  <td>{{ this.res.flightNumber }}</td>\n                  <td>{{ this.res.seat }}</td>\n                  <td>{{ this.res.hotelName }}</td>\n                  <td>{{ this.res.roomNumber }}</td>\n                  <td>\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                                <div class=\"btn-group\" style=\"margin-bottom: 20px;\">\n                                  \n                                    <button class=\"btn btn-sm btn-outline-secondary\" v-on:click=\"deleteBook()\" ><v-icon >delete</v-icon></button>\n                               \n                                \n                                </div>\n                              </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          </div>\n            \n         <div v-if=\"res.status === 'failed'\">\n            <h1>จองไม่สำเร็จ</h1>\n        </div>\n        <br/>\n         <label>Airways</label>\n          <div id='searchResultsSection'>\n         \n            <table class=\"table table-bordered\">\n              <thead class=\"thead-dark\">\n                <tr>\n                  <th scope=\"col\">Flight</th>\n                  <th scope=\"col\">Company</th>\n                  <th scope=\"col\">From</th>\n                  <th scope=\"col\">To</th>\n                  <th scope=\"col\">Seat</th>\n                  <th scope=\"col\">Price</th>\n                  <th scope=\"col\">Select</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"flight in flights\" :key=\"flight.id\">\n                  <td>{{ flight.flightNumber }}</td>\n                  <td>{{ flight.company }}</td>\n                  <td>{{ flight.from }}</td>\n                  <td>{{ flight.to }}</td>\n                  <td>{{ flight.seat }}</td>\n                  <td>{{ flight.price }}</td>\n                  <td>\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                                <div class=\"btn-group\" style=\"margin-bottom: 20px;\">\n                                  <button id=\"test\" class=\"btn btn-sm btn-outline-secondary\" v-on:click=\"Book(flight.flightNumber,flight.seat)\" >  <v-icon >check</v-icon></button>\n                                </div>\n                              </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n           <br/>\n                        <label>Hotel</label>\n                          <div id='searchResultsSection'>\n                         \n            <table class=\"table table-bordered\">\n              <thead class=\"thead-dark\">\n                <tr>\n                  <th scope=\"col\">Hotel Name</th>\n                  <th scope=\"col\">room</th>\n                  <th scope=\"col\">Detail</th>\n                  <th scope=\"col\">Price</th>\n                  <th scope=\"col\">Select</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"hotel in hotels\" :key=\"hotel._id\">\n                  <td>{{ hotel.hotelName }}</td>\n                  <td>{{ hotel.room }}</td>\n                  <td>{{ hotel.detail }}</td>\n                  <td>{{ hotel.price }}</td>\n                  <td>\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                                <div class=\"btn-group\" style=\"margin-bottom: 20px;\">\n                                \n                                    <button class=\"btn btn-sm btn-outline-secondary\" v-on:click=\"Bookh(hotel.hotelName,hotel.room)\"><v-icon >check</v-icon></button>\n                                   \n                                \n                                </div>\n                              </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n           <br/>\n            <form action=\"\" method=\"post\" v-on:submit.prevent=\"register\">\n                <div class=\"panel panel-primary\">\n                   \n                    \n                    <div class=\"panel-body\">\n                        <div class=\"form-group\">\n                            <label>Name</label>\n                            <input type=\"text\" v-model=\"formdata.userName\" placeholder=\"Name\" class=\"form-control\" name=\"name\" id=\"name\"/>\n                        </div>\n            \n                        <div class=\"form-group\">\n                            <label>Email</label>\n                            <input type=\"email\" v-model=\"formdata.email\" placeholder=\"Enter Email\" class=\"form-control\" name=\"email\" id=\"email\"/>\n                        </div>\n                        <div class=\"form-group\">\n                            <label>Phone</label>\n                            <input type=\"phone\" v-model=\"formdata.phone\" placeholder=\"Enter Phone\" class=\"form-control\" name=\"phone\" id=\"phone\"/>\n                        </div>\n            \n                       \n                     \n                \n                        <div class=\"form-group\">\n                            <button type=\"submit\" class=\"btn btn-danger\">Book</button>\n                            <label class=\"label label-success\">{{message}}</label>\n                        </div>\n\n\n                        \n                    </div>\n                </div>\n            </form>\n        </div>\n        <div class=\"col-md-2\"></div>\n    </div>\n    \n</template>\n<style>\n    #form-register{\n        margin-top:30px;\n    }\n    #searchResultsSection{\n  height: 280px;\n   overflow: scroll;\n\n}\n</style>\n<script>\n\nimport axios from \"axios\";\n\n    export default{\n        data(){\n            return{\n                title:\"Booking\",\n                formdata:{},\n                formbook:{},\n                message:\"\",\n                success:0,\n                flights: [],\n                hotels:[],\n                res:[],\n                del:[]\n            }\n        },\n         created() {\n    this.fetchFlights();\n    this.fetchHotels();\n  },\n        methods:{\n           register(){ \n              \n             \n    this.formbook.userName =  this.formdata.userName\n                console.log(this.formbook)\n           this.axios.post('http://ec2-18-219-65-242.us-east-2.compute.amazonaws.com:5000/create',this.formdata).then(\n                 data => {\n            console.log(data.data.content)\n\n            },\n            error => {\n            console.log(error);\n            } );\n             this.axios.post('http://ec2-18-219-65-242.us-east-2.compute.amazonaws.com:5000/booking',this.formbook).then(\n                 data => {\n                    this.res = data.data.content\n                    console.log(this.res)\n            },\n            error => {\n            console.log(error);\n            \n            } );\n              \n           \n            \n                \n                   \n            },\n            fetchFlights() {\n            \n            axios\n                .get(`http://ec2-18-219-205-234.us-east-2.compute.amazonaws.com:3000/available-flight`)\n                .then(data => (this.flights = data.data.content));\n            },fetchHotels() {\n            axios\n                .get(`http://ec2-13-58-119-33.us-east-2.compute.amazonaws.com:4000/available-hotel`)\n                .then(data => (this.hotels = data.data.content));\n            }, \n            deleteBook() {\n                console.log(this.formbook)\n             this.axios.post('http://ec2-18-219-65-242.us-east-2.compute.amazonaws.com:5000/cancel',this.formbook).then(\n                 data => {\n                    this.del = data.data.content\n                    console.log(this.del)\n            },\n            error => {\n            console.log(error);\n            \n            } );\n             this.del.status = 'cancel success'\n            },\n            Book(flightNo,s) {\n                console.log(flightNo,s)\n                this.formbook.flightNumber =  flightNo\n                this.formbook.seat =  s\n                console.log(this.formbook)\n             \n            },\n             Bookh(hotelN,r) {\n                console.log(hotelN,r)\n                this.formbook.hotelName =  hotelN\n                this.formbook.roomNumber =  r\n                console.log(this.formbook)\n             \n            },\n           \n        \n    }\n}\n\n</script>"],"sourceRoot":"src/views"}]}