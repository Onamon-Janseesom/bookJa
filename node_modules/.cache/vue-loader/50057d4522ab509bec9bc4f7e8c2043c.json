{"remainingRequest":"/Users/kookkik/booking-online/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kookkik/booking-online/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kookkik/booking-online/src/views/Home.vue","mtime":1586471942868},{"path":"/Users/kookkik/booking-online/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kookkik/booking-online/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kookkik/booking-online/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kookkik/booking-online/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/kookkik/booking-online/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kookkik/booking-online/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwoKICAgIGV4cG9ydCBkZWZhdWx0ewogICAgICAgIGRhdGEoKXsKICAgICAgICAgICAgcmV0dXJuewogICAgICAgICAgICAgICAgdGl0bGU6IkJvb2tpbmciLAogICAgICAgICAgICAgICAgZm9ybWRhdGE6e30sCiAgICAgICAgICAgICAgICBmb3JtYm9vazp7fSwKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IiIsCiAgICAgICAgICAgICAgICBzdWNjZXNzOjAsCiAgICAgICAgICAgICAgICBmbGlnaHRzOiBbXSwKICAgICAgICAgICAgICAgIGhvdGVsczpbXSwKICAgICAgICAgICAgICAgIHJlczpbXSwKICAgICAgICAgICAgICAgIGRlbDpbXQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hGbGlnaHRzKCk7CiAgICB0aGlzLmZldGNoSG90ZWxzKCk7CiAgfSwKICAgICAgICBtZXRob2RzOnsKICAgICAgICAgICByZWdpc3RlcigpeyAKICAgICAgICAgICAgICAKICAgICAgICAgICAgIAogICAgdGhpcy5mb3JtYm9vay51c2VyTmFtZSA9ICB0aGlzLmZvcm1kYXRhLnVzZXJOYW1lCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm1ib29rKQogICAgICAgICAgIHRoaXMuYXhpb3MucG9zdCgnaHR0cDovL2VjMi0xOC0yMTktNjUtMjQyLnVzLWVhc3QtMi5jb21wdXRlLmFtYXpvbmF3cy5jb206NTAwMC9jcmVhdGUnLHRoaXMuZm9ybWRhdGEpLnRoZW4oCiAgICAgICAgICAgICAgICAgZGF0YSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5jb250ZW50KQoKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXJyb3IgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIH0gKTsKICAgICAgICAgICAgIHRoaXMuYXhpb3MucG9zdCgnaHR0cDovL2VjMi0xOC0yMTktNjUtMjQyLnVzLWVhc3QtMi5jb21wdXRlLmFtYXpvbmF3cy5jb206NTAwMC9ib29raW5nJyx0aGlzLmZvcm1ib29rKS50aGVuKAogICAgICAgICAgICAgICAgIGRhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMucmVzID0gZGF0YS5kYXRhLmNvbnRlbnQKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnJlcykKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXJyb3IgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIAogICAgICAgICAgICB9ICk7CiAgICAgICAgICAgICAgCiAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZmV0Y2hGbGlnaHRzKCkgewogICAgICAgICAgICAKICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAgIC5nZXQoYGh0dHA6Ly9lYzItMTgtMjE5LTIwNS0yMzQudXMtZWFzdC0yLmNvbXB1dGUuYW1hem9uYXdzLmNvbTozMDAwL2F2YWlsYWJsZS1mbGlnaHRgKQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiAodGhpcy5mbGlnaHRzID0gZGF0YS5kYXRhLmNvbnRlbnQpKTsKICAgICAgICAgICAgfSxmZXRjaEhvdGVscygpIHsKICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAgIC5nZXQoYGh0dHA6Ly9lYzItMTMtNTgtMTE5LTMzLnVzLWVhc3QtMi5jb21wdXRlLmFtYXpvbmF3cy5jb206NDAwMC9hdmFpbGFibGUtaG90ZWxgKQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiAodGhpcy5ob3RlbHMgPSBkYXRhLmRhdGEuY29udGVudCkpOwogICAgICAgICAgICB9LCAKICAgICAgICAgICAgZGVsZXRlQm9vaygpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybWJvb2spCiAgICAgICAgICAgICB0aGlzLmF4aW9zLnBvc3QoJ2h0dHA6Ly9lYzItMTgtMjE5LTY1LTI0Mi51cy1lYXN0LTIuY29tcHV0ZS5hbWF6b25hd3MuY29tOjUwMDAvY2FuY2VsJyx0aGlzLmZvcm1ib29rKS50aGVuKAogICAgICAgICAgICAgICAgIGRhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsID0gZGF0YS5kYXRhLmNvbnRlbnQKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmRlbCkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXJyb3IgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIAogICAgICAgICAgICB9ICk7CiAgICAgICAgICAgICB0aGlzLmRlbC5zdGF0dXMgPSAnY2FuY2VsIHN1Y2Nlc3MnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIEJvb2soZmxpZ2h0Tm8scykgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZmxpZ2h0Tm8scykKICAgICAgICAgICAgICAgIHRoaXMuZm9ybWJvb2suZmxpZ2h0TnVtYmVyID0gIGZsaWdodE5vCiAgICAgICAgICAgICAgICB0aGlzLmZvcm1ib29rLnNlYXQgPSAgcwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtYm9vaykKICAgICAgICAgICAgIAogICAgICAgICAgICB9LAogICAgICAgICAgICAgQm9va2goaG90ZWxOLHIpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGhvdGVsTixyKQogICAgICAgICAgICAgICAgdGhpcy5mb3JtYm9vay5ob3RlbE5hbWUgPSAgaG90ZWxOCiAgICAgICAgICAgICAgICB0aGlzLmZvcm1ib29rLnJvb21OdW1iZXIgPSAgcgogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtYm9vaykKICAgICAgICAgICAgIAogICAgICAgICAgICB9LAogICAgICAgICAgIAogICAgICAgIAogICAgfQp9Cgo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;AAMA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"row\" id=\"form-register\">\n        <div class=\"col-md-2\"></div>\n        <div class=\"col-md-8\">\n         <h3 class=\"panel-heading\">{{title}}</h3>\n          <div v-if=\"del.status !== 'cancel success'\">\n          <div v-if=\"res.status === 'booking success'\">\n            <table class=\"table table-bordered\">\n              <thead class=\"thead-dark\">\n                <tr>\n                  <th scope=\"col\">Flight Number</th>\n                  <th scope=\"col\">Seat</th>\n                  <th scope=\"col\">Hotel Name</th>\n                  <th scope=\"col\">Room Number</th>\n                  <th scope=\"col\">Select</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-if=\"res.status !== 'failed'\">\n                  <td>{{ this.res.flightNumber }}</td>\n                  <td>{{ this.res.seat }}</td>\n                  <td>{{ this.res.hotelName }}</td>\n                  <td>{{ this.res.roomNumber }}</td>\n                  <td>\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                                <div class=\"btn-group\" style=\"margin-bottom: 20px;\">\n                                  \n                                    <button class=\"btn btn-sm btn-outline-secondary\" v-on:click=\"deleteBook()\" ><v-icon >delete</v-icon></button>\n                               \n                                \n                                </div>\n                              </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          </div>\n            \n         <div v-if=\"res.status === 'failed'\">\n            <h1>จองไม่สำเร็จ</h1>\n        </div>\n        <br/>\n         <label>Airways</label>\n          <div id='searchResultsSection'>\n         \n            <table class=\"table table-bordered\">\n              <thead class=\"thead-dark\">\n                <tr>\n                  <th scope=\"col\">Flight</th>\n                  <th scope=\"col\">Company</th>\n                  <th scope=\"col\">From</th>\n                  <th scope=\"col\">To</th>\n                  <th scope=\"col\">Seat</th>\n                  <th scope=\"col\">Price</th>\n                  <th scope=\"col\">Select</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"flight in flights\" :key=\"flight.id\">\n                  <td>{{ flight.flightNumber }}</td>\n                  <td>{{ flight.company }}</td>\n                  <td>{{ flight.from }}</td>\n                  <td>{{ flight.to }}</td>\n                  <td>{{ flight.seat }}</td>\n                  <td>{{ flight.price }}</td>\n                  <td>\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                                <div class=\"btn-group\" style=\"margin-bottom: 20px;\">\n                                  <button id=\"test\" class=\"btn btn-sm btn-outline-secondary\" v-on:click=\"Book(flight.flightNumber,flight.seat)\" >  <v-icon >check</v-icon></button>\n                                </div>\n                              </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n           <br/>\n                        <label>Hotel</label>\n                          <div id='searchResultsSection'>\n                         \n            <table class=\"table table-bordered\">\n              <thead class=\"thead-dark\">\n                <tr>\n                  <th scope=\"col\">Hotel Name</th>\n                  <th scope=\"col\">room</th>\n                  <th scope=\"col\">Detail</th>\n                  <th scope=\"col\">Price</th>\n                  <th scope=\"col\">Select</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"hotel in hotels\" :key=\"hotel._id\">\n                  <td>{{ hotel.hotelName }}</td>\n                  <td>{{ hotel.room }}</td>\n                  <td>{{ hotel.detail }}</td>\n                  <td>{{ hotel.price }}</td>\n                  <td>\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                                <div class=\"btn-group\" style=\"margin-bottom: 20px;\">\n                                \n                                    <button class=\"btn btn-sm btn-outline-secondary\" v-on:click=\"Bookh(hotel.hotelName,hotel.room)\"><v-icon >check</v-icon></button>\n                                   \n                                \n                                </div>\n                              </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n           <br/>\n            <form action=\"\" method=\"post\" v-on:submit.prevent=\"register\">\n                <div class=\"panel panel-primary\">\n                   \n                    \n                    <div class=\"panel-body\">\n                        <div class=\"form-group\">\n                            <label>Name</label>\n                            <input type=\"text\" v-model=\"formdata.userName\" placeholder=\"Name\" class=\"form-control\" name=\"name\" id=\"name\"/>\n                        </div>\n            \n                        <div class=\"form-group\">\n                            <label>Email</label>\n                            <input type=\"email\" v-model=\"formdata.email\" placeholder=\"Enter Email\" class=\"form-control\" name=\"email\" id=\"email\"/>\n                        </div>\n                        <div class=\"form-group\">\n                            <label>Phone</label>\n                            <input type=\"phone\" v-model=\"formdata.phone\" placeholder=\"Enter Phone\" class=\"form-control\" name=\"phone\" id=\"phone\"/>\n                        </div>\n            \n                       \n                     \n                \n                        <div class=\"form-group\">\n                            <button type=\"submit\" class=\"btn btn-danger\">Book</button>\n                            <label class=\"label label-success\">{{message}}</label>\n                        </div>\n\n\n                        \n                    </div>\n                </div>\n            </form>\n        </div>\n        <div class=\"col-md-2\"></div>\n    </div>\n    \n</template>\n<style>\n    #form-register{\n        margin-top:30px;\n    }\n    #searchResultsSection{\n  height: 280px;\n   overflow: scroll;\n\n}\n</style>\n<script>\n\nimport axios from \"axios\";\n\n    export default{\n        data(){\n            return{\n                title:\"Booking\",\n                formdata:{},\n                formbook:{},\n                message:\"\",\n                success:0,\n                flights: [],\n                hotels:[],\n                res:[],\n                del:[]\n            }\n        },\n         created() {\n    this.fetchFlights();\n    this.fetchHotels();\n  },\n        methods:{\n           register(){ \n              \n             \n    this.formbook.userName =  this.formdata.userName\n                console.log(this.formbook)\n           this.axios.post('http://ec2-18-219-65-242.us-east-2.compute.amazonaws.com:5000/create',this.formdata).then(\n                 data => {\n            console.log(data.data.content)\n\n            },\n            error => {\n            console.log(error);\n            } );\n             this.axios.post('http://ec2-18-219-65-242.us-east-2.compute.amazonaws.com:5000/booking',this.formbook).then(\n                 data => {\n                    this.res = data.data.content\n                    console.log(this.res)\n            },\n            error => {\n            console.log(error);\n            \n            } );\n              \n           \n            \n                \n                   \n            },\n            fetchFlights() {\n            \n            axios\n                .get(`http://ec2-18-219-205-234.us-east-2.compute.amazonaws.com:3000/available-flight`)\n                .then(data => (this.flights = data.data.content));\n            },fetchHotels() {\n            axios\n                .get(`http://ec2-13-58-119-33.us-east-2.compute.amazonaws.com:4000/available-hotel`)\n                .then(data => (this.hotels = data.data.content));\n            }, \n            deleteBook() {\n                console.log(this.formbook)\n             this.axios.post('http://ec2-18-219-65-242.us-east-2.compute.amazonaws.com:5000/cancel',this.formbook).then(\n                 data => {\n                    this.del = data.data.content\n                    console.log(this.del)\n            },\n            error => {\n            console.log(error);\n            \n            } );\n             this.del.status = 'cancel success'\n            },\n            Book(flightNo,s) {\n                console.log(flightNo,s)\n                this.formbook.flightNumber =  flightNo\n                this.formbook.seat =  s\n                console.log(this.formbook)\n             \n            },\n             Bookh(hotelN,r) {\n                console.log(hotelN,r)\n                this.formbook.hotelName =  hotelN\n                this.formbook.roomNumber =  r\n                console.log(this.formbook)\n             \n            },\n           \n        \n    }\n}\n\n</script>"]}]}